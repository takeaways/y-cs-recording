{"version":3,"sources":["src/app.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAM,YAAY,GAAG,QAAQ,CAAC,aAAT,CACnB,gBADmB,CAArB;AAGA,MAAM,UAAU,GAAG,QAAQ,CAAC,aAAT,CAAuB,cAAvB,CAAnB;AACA,MAAM,UAAU,GAAG,QAAQ,CAAC,aAAT,CAAuB,cAAvB,CAAnB;AACA,MAAM,cAAc,GAAG,QAAQ,CAAC,aAAT,CACrB,kBADqB,CAAvB;AAGA,MAAM,WAAW,GAAG,QAAQ,CAAC,aAAT,CAAuB,UAAvB,CAApB;AACA,MAAM,aAAa,GAAG,QAAQ,CAAC,aAAT,CAAuB,YAAvB,CAAtB;AAEA,IAAI,QAAJ;AACA,IAAI,cAAc,GAAe,EAAjC,EACA;AACA;;AACA,SAAe,oBAAf,GAAmC;;AACjC,QAAI;AACF,YAAM,MAAM,GAAG,MAAM,SAAS,CAAC,YAAV,CAAuB,YAAvB,CAAoC;AACvD,QAAA,KAAK,EAAE,IADgD;AAEvD,QAAA,KAAK,EAAE;AAFgD,OAApC,CAArB;AAIA,MAAA,aAAa,CAAC,SAAd,GAA0B,MAA1B;AACA,MAAA,SAAS,CAAC,MAAD,CAAT;AACD,KAPD,CAOE,OAAO,KAAP,EAAc;AACd,MAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD;AACF;AAAA;;AAED,SAAS,oBAAT,GAA6B;AAC1B,EAAA,aAAa,CAAC,SAAd,CAAwC;AAAxC,GACE,SADF,GAEE,OAFF,CAEW,CAAD,IAAO,CAAC,CAAC,IAAF,EAFjB;AAGD,EAAA,QAAQ,CAAC,IAAT;AACD;;AAED,SAAS,mBAAT,GAA4B;AAC1B,QAAM,YAAY,GAAG,IAAI,IAAJ,CAAS,cAAT,EAAyB;AAAE,IAAA,IAAI,EAAE;AAAR,GAAzB,CAArB;AACA,EAAA,WAAW,CAAC,GAAZ,GAAkB,GAAG,CAAC,eAAJ,CAAoB,YAApB,CAAlB;AACA,EAAA,WAAW,CAAC,IAAZ;AACA,EAAA,WAAW,CAAC,QAAZ,GAAuB,IAAvB;AACA,EAAA,cAAc,CAAC,IAAf,GAAsB,WAAW,CAAC,GAAlC;AACA,EAAA,cAAc,CAAC,QAAf,GAA0B,aAAa,IAAI,IAAJ,EAAU,OAAjD;AACD,EAED;;;AACA,YAAY,CAAC,gBAAb,CAA8B,OAA9B,EAAuC,oBAAvC;AACA,UAAU,CAAC,gBAAX,CAA4B,OAA5B,EAAqC,oBAArC;AACA,UAAU,CAAC,gBAAX,CAA4B,OAA5B,EAAqC,mBAArC,GAEA;;AACA,SAAS,SAAT,CAAmB,MAAnB,EAAsC;AACpC,EAAA,cAAc,GAAG,EAAjB;AACA,EAAA,QAAQ,GAAG,IAAI,aAAJ,CAAkB,MAAlB,CAAX;;AACA,EAAA,QAAQ,CAAC,eAAT,GAA4B,CAAD,IAAO,cAAc,CAAC,IAAf,CAAoB,CAAC,CAAC,IAAtB,CAAlC;;AACA,EAAA,QAAQ,CAAC,KAAT;AACD","file":"app.0cc90a7f.js","sourceRoot":"..","sourcesContent":["const recordButton = document.querySelector(\n  \".record-button\"\n) as HTMLButtonElement;\nconst stopButton = document.querySelector(\".stop-button\") as HTMLButtonElement;\nconst playButton = document.querySelector(\".play-button\") as HTMLButtonElement;\nconst downloadButton = document.querySelector(\n  \".download-button\"\n) as HTMLAnchorElement;\nconst previewView = document.querySelector(\"#preview\") as HTMLVideoElement;\nconst recordingView = document.querySelector(\"#recording\") as HTMLVideoElement;\n\nlet recorder: MediaRecorder;\nlet recordedChunks: BlobPart[] = [];\n// let recordingStream;\n// handlers\nasync function handleStartRecording() {\n  try {\n    const stream = await navigator.mediaDevices.getUserMedia({\n      video: true,\n      audio: true,\n    });\n    recordingView.srcObject = stream;\n    recording(stream);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction handleStropRecording() {\n  (recordingView.srcObject as MediaStream) //\n    .getTracks()\n    .forEach((t) => t.stop());\n  recorder.stop();\n}\n\nfunction handlePlayRecording() {\n  const recordedBlob = new Blob(recordedChunks, { type: \"video/webm\" });\n  previewView.src = URL.createObjectURL(recordedBlob);\n  previewView.play();\n  previewView.controls = true;\n  downloadButton.href = previewView.src;\n  downloadButton.download = `recording_${new Date()}.webm`;\n}\n\n// events\nrecordButton.addEventListener(\"click\", handleStartRecording);\nstopButton.addEventListener(\"click\", handleStropRecording);\nplayButton.addEventListener(\"click\", handlePlayRecording);\n\n// functions\nfunction recording(stream: MediaStream) {\n  recordedChunks = [];\n  recorder = new MediaRecorder(stream);\n  recorder.ondataavailable = (e) => recordedChunks.push(e.data);\n  recorder.start();\n}\n"]}